definition {

	@description = "Disable Cookie Preference handling on instance level"
	@summary = "Default summary"
	macro disablePreferenceHandling(explicitMode = null) {
		CookieNavigator.gotoInstanceSettings(portlet = "Preference Handling");

		FormFields.disableCheckbox(fieldName = "Enabled");

		if (${explicitMode} == "enable") {
			FormFields.enableCheckbox(fieldName = "Explicit Cookie Consent Mode");
		}
		else if (${explicitMode} == "disable") {
			FormFields.disableCheckbox(fieldName = "Explicit Cookie Consent Mode");
		}

		CookiePreferenceHandlingAdmin.saveConfiguration();
	}

	@description = "Disable Cookie Preference handling with Explicit cookie setting Disabled on site level"
	@summary = "Default summary"
	macro disablePreferenceHandlingWithOutCookieConsentInSiteSettings(baseURL = null, siteURLKey = null) {
		CookieNavigator.gotoSiteSettings(
			baseURL = ${baseURL},
			portlet = "Preference Handling",
			siteURLKey = ${siteURLKey});

		FormFields.disableCheckbox(fieldName = "Enabled");

		FormFields.disableCheckbox(fieldName = "Explicit Cookie Consent Mode");

		CookiePreferenceHandlingAdmin.saveConfiguration();
	}

	@description = "Enable Cookie Preference handling"
	@summary = "Default summary"
	macro enablePreferenceHandling() {
		CookieNavigator.gotoInstanceSettings(portlet = "Preference Handling");

		FormFields.enableCheckbox(fieldName = "Enabled");

		CookiePreferenceHandlingAdmin.saveConfiguration();
	}

	@description = "Enable Cookie Preference handling on instance level"
	@summary = "Default summary"
	macro enablePreferenceHandlingInInstanceSettings() {
		CookieNavigator.gotoInstanceSettings(portlet = "Preference Handling");

		FormFields.enableCheckbox(fieldName = "Enabled");

		CookiePreferenceHandlingAdmin.saveConfiguration();
	}

	@description = "Enable Cookie Preference handling with Explicit cookie setting Enabled"
	@summary = "Default summary"
	macro enablePreferenceHandlingWithCookieConsent() {
		CookieNavigator.gotoInstanceSettings(portlet = "Preference Handling");

		FormFields.enableCheckbox(fieldName = "Enabled");

		FormFields.enableCheckbox(fieldName = "Explicit Cookie Consent Mode");

		CookiePreferenceHandlingAdmin.saveConfiguration();
	}

	@description = "Enable Cookie Preference handling with Explicit cookie setting Enabled on site level"
	@summary = "Default summary"
	macro enablePreferenceHandlingWithCookieConsentInSiteSettings(baseURL = null, siteURLKey = null) {
		CookieNavigator.gotoSiteSettings(
			baseURL = ${baseURL},
			portlet = "Preference Handling",
			siteURLKey = ${siteURLKey});

		FormFields.enableCheckbox(fieldName = "Enabled");

		FormFields.enableCheckbox(fieldName = "Explicit Cookie Consent Mode");

		CookiePreferenceHandlingAdmin.saveConfiguration();
	}

	@description = "Disable Cookie Preference handling with Explicit cookie setting Disabled"
	@summary = "Default summary"
	macro enablePreferenceHandlingWithoutCookieConsent() {
		CookieNavigator.gotoInstanceSettings(portlet = "Preference Handling");

		FormFields.enableCheckbox(fieldName = "Enabled");

		FormFields.disableCheckbox(fieldName = "Explicit Cookie Consent Mode");

		CookiePreferenceHandlingAdmin.saveConfiguration();
	}

	@description = "Enable Cookie Preference handling with Explicit cookie setting disabled on instance level"
	@summary = "Default summary"
	macro enablePreferenceHandlingWithOutCookieConsentInInstanceSettings() {
		CookieNavigator.gotoInstanceSettings(portlet = "Preference Handling");

		FormFields.enableCheckbox(fieldName = "Enabled");

		FormFields.disableCheckbox(fieldName = "Explicit Cookie Consent Mode");

		CookiePreferenceHandlingAdmin.saveConfiguration();
	}

	@description = "Enable Cookie Preference handling with Explicit cookie setting Disabled on site level"
	@summary = "Default summary"
	macro enablePreferenceHandlingWithOutCookieConsentInSiteSettings(baseURL = null, siteURLKey = null) {
		CookieNavigator.gotoSiteSettings(
			baseURL = ${baseURL},
			portlet = "Preference Handling",
			siteURLKey = ${siteURLKey});

		FormFields.enableCheckbox(fieldName = "Enabled");

		FormFields.disableCheckbox(fieldName = "Explicit Cookie Consent Mode");

		CookiePreferenceHandlingAdmin.saveConfiguration();
	}

	@summary = "Default summary"
	macro saveConfiguration() {
		if (IsElementPresent(locator1 = "Button#UPDATE")) {
			AssertClick.assertTextClickNoMouseOver(
				locator1 = "Button#UPDATE",
				value1 = "Update");
		}
		else if (IsElementPresent(locator1 = "Button#SAVE")) {
			AssertClick.assertTextClickNoMouseOver(
				locator1 = "Button#SAVE",
				value1 = "Save");
		}

		AssertTextEquals.assertPartialText(
			locator1 = "Message#SUCCESS",
			value1 = "Your request completed successfully.");
	}

}