definition {

	@summary = "Default summary"
	macro _addQuestion(bodyField = null, titleField = null, categoryId = null) {
		Variables.assertDefined(parameterList = "${categoryId},${titleField},${bodyField}");

		var portalURL = JSONCompany.getPortalURL();

		if (!(isSet(userEmailAddress))) {
			var userEmailAddress = "test@liferay.com";
		}

		if (!(isSet(userPassword))) {
			var userPassword = PropsUtil.get("default.admin.password");
		}

		if (!(isSet(encodingFormat))) {
			var encodingFormat = "creole";
		}

		var curl = '''
			${portalURL}/o/headless-delivery/v1.0/message-board-sections/${categoryId}/message-board-threads \
				-H 'Content-Type: application/json' \
				-u '${userEmailAddress}:${userPassword}' \
				-d '{
					"articleBody": "${bodyField}",
					"encodingFormat": "${encodingFormat}",
					"headline": "${titleField}",
					"viewableBy": "Anyone"
				}'
		''';

		echo("## Adding a 'Question' with the following info using JSONWS:");

		echo("## * Title: ${titleField}");

		echo("## * Description: ${bodyField}");

		echo("## * CategoryID: ${categoryId}");

		var messageId = JSONCurlUtil.post(${curl});
	}

	@summary = "Default summary"
	macro _addQuestionWithTag(bodyField = null, tagField = null, titleField = null, categoryId = null) {
		Variables.assertDefined(parameterList = "${categoryId},${tagField},${titleField},${bodyField}");

		var portalURL = JSONCompany.getPortalURL();

		if (!(isSet(userEmailAddress))) {
			var userEmailAddress = "test@liferay.com";
		}

		if (!(isSet(userPassword))) {
			var userPassword = PropsUtil.get("default.admin.password");
		}

		var curl = '''
			${portalURL}/o/headless-delivery/v1.0/message-board-sections/${categoryId}/message-board-threads \
				-H 'Content-Type: application/json' \
				-u '${userEmailAddress}:${userPassword}' \
				-d '{
					"articleBody": "${bodyField}",
					"headline": "${titleField}",
					"keywords": [
						"${tagField}"
					],
					"viewableBy": "Anyone"
				}'
		''';

		echo("## Adding a 'Question' with the following info using JSONWS:");

		echo("## * Title: ${titleField}");

		echo("## * Description: ${bodyField}");

		echo("## * Tag: ${tagField}");

		echo("## * CategoryID: ${categoryId}");

		var messageId = JSONCurlUtil.post(${curl});
	}

}