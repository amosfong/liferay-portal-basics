definition {

	@summary = "Add a Widget Template through JSON"
	macro addWidgetTemplate(itemType = null, groupName = null, site = null, name = null, description = null, script = null) {
		Variables.assertDefined(parameterList = "${itemType},${name}");

		if (!(isSet(groupId))) {
			var groupId = JSONDDMtemplateSetter.setGroupId(
				groupName = ${groupName},
				site = ${site});
		}

		var classNameId = JSONDDMtemplateSetter.setClassNameId(itemType = ${itemType});
		var descriptionMap = JSONDDMtemplateSetter.setDescriptionMap(description = ${description});
		var nameMap = JSONDDMtemplateSetter.setNameMap(title = ${name});

		var templateKey = JSONDDMtemplateAPI._addWidgetTemplate(
			classNameId = ${classNameId},
			descriptionMap = ${descriptionMap},
			groupId = ${groupId},
			nameMap = ${nameMap},
			script = ${script});

		return ${templateKey};
	}

}