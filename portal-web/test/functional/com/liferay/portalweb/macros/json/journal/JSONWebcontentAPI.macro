definition {

	@summary = "Default summary"
	macro _addFolder(folderDescription = null, parentFolderId = null, groupId = null, folderName = null) {
		Variables.assertDefined(parameterList = "${groupId},${parentFolderId},${folderName}");

		var portalURL = JSONCompany.getPortalURL();

		if (isSet(folderDescription)) {
			var description = ${folderDescription};
		}
		else {
			var description = "";
		}

		if (!(isSet(userEmailAddress))) {
			var userEmailAddress = JSONUtil2.getDefaultUserEmail();
		}

		if (!(isSet(userPassword))) {
			var userPassword = JSONUtil2.getDefaultUserPassword();
		}

		var curl = '''
			${portalURL}/api/jsonws/journal.journalfolder/add-folder \
				-u ${userEmailAddress}:${userPassword} \
				-d externalReferenceCode='' \
				-d groupId=${groupId} \
				-d parentFolderId=${parentFolderId} \
				-d name=${folderName} \
				-d description=${description}
		''';

		com.liferay.poshi.runner.util.JSONCurlUtil.post(${curl});
	}

	@summary = "Default summary"
	macro _addWebContent(groupId = null, descriptionMap = null, serviceContext = null, titleMap = null, folderId = null, contentXml = null) {
		Variables.assertDefined(parameterList = "${groupId},${folderId},${titleMap},${descriptionMap},${contentXml},${serviceContext}");

		var portalURL = JSONCompany.getPortalURL();
		var classNameId = JSONClassname._getClassNameId(value = "com.liferay.journal.model.JournalArticle");
		var globalGroupId = JSONGroupAPI._getGroupIdByName(
			groupName = "Global",
			site = "true");

		if (!(isSet(userEmailAddress))) {
			var userEmailAddress = JSONUtil2.getDefaultUserEmail();
		}

		if (!(isSet(userPassword))) {
			var userPassword = JSONUtil2.getDefaultUserPassword();
		}

		var basicWebContentStructureId = JSONDDMstructureAPI._getStructureId(
			classNameId = ${classNameId},
			groupId = ${globalGroupId},
			structureName = "Basic Web Content");

		var curl = '''
			${portalURL}/api/jsonws/journal.journalarticle/add-article \
				-u ${userEmailAddress}:${userPassword} \
				-d externalReferenceCode= \
				-d groupId=${groupId} \
				-d folderId=${folderId} \
				-d titleMap=${titleMap} \
				-d descriptionMap=${descriptionMap} \
				-d content=${contentXml} \
				-d ddmStructureId=${basicWebContentStructureId} \
				-d ddmTemplateKey=BASIC-WEB-CONTENT \
				-d serviceContext=${serviceContext}
		''';

		com.liferay.poshi.runner.util.JSONCurlUtil.post(${curl});
	}

	@summary = "Default summary"
	macro _deleteWebContent(groupId = null, articleId = null) {
		Variables.assertDefined(parameterList = "${articleId},${groupId}");

		var portalURL = JSONCompany.getPortalURL();
		var userLoginInfo = JSONUtil2.formatJSONUser();

		var curl = '''
			${portalURL}/api/jsonws/journal.journalarticle/delete-article \
				-u ${userLoginInfo} \
				-d groupId=${groupId} \
				-d articleId=${articleId} \
				-d articleURL='' \
		''';

		com.liferay.poshi.runner.util.JSONCurlUtil.post(${curl});
	}

	@summary = "Default summary"
	macro _getArticleIdByURLTitle(groupName = null, site = null, urlTitle = null) {
		Variables.assertDefined(parameterList = "${groupName},${urlTitle}");

		var groupId = JSONCategorySetter.setGroupId(
			groupName = ${groupName},
			site = ${site});
		var portalURL = JSONCompany.getPortalURL();
		var userLoginInfo = JSONUtil2.formatJSONUser();

		var curl = '''
			${portalURL}/api/jsonws/journal.journalarticle/get-article-by-url-title \
				-u ${userLoginInfo} \
				-d groupId=${groupId} \
				-d "urlTitle=${urlTitle}"
		''';

		var articleId = JSONCurlUtil.post(${curl}, "$.[?(@['urlTitle'] == '${urlTitle}')]['articleId']");

		return ${articleId};
	}

	@summary = "Default summary"
	macro _getFolderIdByFolderName(groupId = null, folderName = null) {
		Variables.assertDefined(parameterList = "${groupId},${folderName}");

		var portalURL = JSONCompany.getPortalURL();
		var userLoginInfo = JSONUtil2.formatJSONUser();

		var curl = '''
			${portalURL}/api/jsonws/journal.journalfolder/get-folders \
				-u ${userLoginInfo} \
				-d groupId=${groupId}
		''';

		var folderId = JSONCurlUtil.post(${curl}, "$.[?(@['name'] == '${folderName}')]['folderId']");

		if (${folderId} == "") {
			fail("FAIL. Cannot find folder.");
		}
		else {
			return ${folderId};
		}
	}

	@summary = "Default summary"
	macro _getFolderUuidByFolderName(groupId = null, folderName = null) {
		Variables.assertDefined(parameterList = "${groupId},${folderName}");

		var portalURL = JSONCompany.getPortalURL();
		var userLoginInfo = JSONUtil2.formatJSONUser();

		var curl = '''
			${portalURL}/api/jsonws/journal.journalfolder/get-folders \
				-u ${userLoginInfo} \
				-d groupId=${groupId}
		''';

		var folderUuid = JSONCurlUtil.post(${curl}, "$.[?(@['name'] == '${folderName}')]['uuid']");

		if (${folderUuid} == "") {
			fail("FAIL. Cannot find folder.");
		}
		else {
			return ${folderUuid};
		}
	}

	@summary = "Default summary"
	macro _getResourcePrimKeyByURLTitle(groupName = null, urlTitle = null) {
		Variables.assertDefined(parameterList = "${groupName},${urlTitle}");

		var groupId = JSONCategorySetter.setGroupId(groupName = ${groupName});
		var portalURL = JSONCompany.getPortalURL();
		var userLoginInfo = JSONUtil2.formatJSONUser();

		var curl = '''
			${portalURL}/api/jsonws/journal.journalarticle/get-display-article-by-url-title \
				-u ${userLoginInfo} \
				-d groupId=${groupId} \
				-d urlTitle=${urlTitle}
		''';

		var resourcePrimKey = JSONCurlUtil.post(${curl}, "$.[?(@['urlTitle'] == '${urlTitle}')]['resourcePrimKey']");

		return ${resourcePrimKey};
	}

	@summary = "Default summary"
	macro _moveWebContentToTrash(groupId = null, articleId = null) {
		Variables.assertDefined(parameterList = "${articleId},${groupId}");

		var portalURL = JSONCompany.getPortalURL();
		var userLoginInfo = JSONUtil2.formatJSONUser();

		var curl = '''
			${portalURL}/api/jsonws/journal.journalarticle/move-article-to-trash \
				-u ${userLoginInfo} \
				-d groupId=${groupId} \
				-d articleId=${articleId}
		''';

		com.liferay.poshi.runner.util.JSONCurlUtil.post(${curl});
	}

	@summary = "Default summary"
	macro _updateStatus(groupId = null, articleId = null, version = null, status = null) {
		Variables.assertDefined(parameterList = "${articleId},${groupId},${status},${version}");

		var portalURL = JSONCompany.getPortalURL();
		var userLoginInfo = JSONUtil2.formatJSONUser();

		var curl = '''
			${portalURL}/api/jsonws/journal.journalarticle/update-status \
				-u ${userLoginInfo} \
				-d groupId=${groupId} \
				-d articleId=${articleId} \
				-d version=${version} \
				-d status=${status} \
				-d articleURL=
		''';

		com.liferay.poshi.runner.util.JSONCurlUtil.post(${curl});
	}

}