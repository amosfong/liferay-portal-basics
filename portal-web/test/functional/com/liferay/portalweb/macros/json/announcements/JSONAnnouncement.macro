definition {

	@summary = "Default summary"
	macro addAnnouncement(announcementTitle = null, announcementContent = null) {
		Variables.assertDefined(parameterList = "${announcementTitle},${announcementContent}");

		var portalURL = JSONCompany.getPortalURL();

		if (!(isSet(userEmailAddress))) {
			var userEmailAddress = "test@liferay.com";
		}

		if (!(isSet(userPassword))) {
			var userPassword = PropsUtil.get("default.admin.password");
		}

		if (!(isSet(announcementURL))) {
			var announcementURL = "";
		}

		if (!(isSet(announcementType))) {
			var announcementType = "general";
		}

		if (!(isSet(priority))) {
			var priority = 0;
		}
		else {
			var priority = 1;
		}

		if (!(isSet(displayDate))) {
			var displayDateDay = DateUtil.getCurrentDate();
			var displayDateMonth = DateUtil.getCurrentMonth();
			var displayDateYear = DateUtil.getCurrentYear();

			var displayDate = "${displayDateYear}%2D${displayDateMonth}%2D${displayDateDay}";
		}

		if (!(isSet(expirationDate))) {
			var displayDateMonth = DateUtil.getCurrentMonth();
			var displayDateYear = DateUtil.getCurrentYear();
			var expirationMonth = ${displayDateMonth} + 1;

			if (${expirationMonth} == 13) {
				var expirationMonth = ${expirationMonth} - 12;
				var displayDateYear = ${displayDateYear} + 1;
			}

			var expirationDate = "${displayDateYear}%2D${expirationMonth}%2D${displayDateDay}";
		}

		JSONAnnouncementAPI._addAnnouncement(
			announcementContent = ${announcementContent},
			announcementTitle = ${announcementTitle},
			announcementType = ${announcementType},
			announcementURL = ${announcementURL},
			displayDate = ${displayDate},
			expirationDate = ${expirationDate},
			priority = ${priority},
			userEmailAddress = ${userEmailAddress},
			userPassword = ${userPassword});
	}

	@summary = "Default summary"
	macro deleteAnnouncement(groupName = null, siteURLKey = null) {
		var entryId = JSONAnnouncementAPI._getEntryId(
			groupName = ${groupName},
			siteURLKey = ${siteURLKey});
		var portalURL = JSONCompany.getPortalURL();
		var userLoginInfo = JSONUtil2.formatJSONUser();

		var curl = '''
			${portalURL}/api/jsonws/announcementsentry/delete-entry \
				-u ${userLoginInfo} \
				-d entryId=${entryId} \
		''';

		com.liferay.poshi.runner.util.JSONCurlUtil.post(${curl});
	}

}