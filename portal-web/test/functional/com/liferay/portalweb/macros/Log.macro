definition {

	@summary = "Retrieves and returns the content of 'liferay.log' file from the Liferay home directory"
	macro getLogFileContent() {
		AntCommands.runCommand("build-test.xml", "copy-log-file");

		var liferayHome = PropsUtil.get("liferay.home.dir.name");

		var fileContent = FileUtil.read("${liferayHome}/liferay.log");

		return ${fileContent};
	}

	@summary = "Retrieves and returns the content of 'upgrade.log' file from the DB Upgrade tool"
	macro getUpgradeLogFileContent() {
		var liferayHome = PropsUtil.get("liferay.home.dir.name");

		var upgradeLogFileContent = FileUtil.read("${liferayHome}/tools/portal-tools-db-upgrade-client/logs/upgrade.log");

		return ${upgradeLogFileContent};
	}

	@summary = "Validates that a specific sentence is not present in the 'liferay.log' content"
	macro viewLogFileContentNotPresent(logContent = null) {
		var fileContent = Log.getLogFileContent();

		if (contains(${fileContent}, ${logContent})) {
			fail("${logContent} is present in portal log.");
		}
	}

	@summary = "Validates that a specific sentence is present in the 'liferay.log' content"
	macro viewLogFileContentPresent(logContent = null) {
		var fileContent = Log.getLogFileContent();

		if (!(contains(${fileContent}, ${logContent}))) {
			fail("${logContent} is not present in portal log.");
		}
	}

	@summary = "Validates that a specific sentence is present in the 'upgrade.log' content"
	macro viewUpgradeLogContentPresent(logContent = null) {
		var liferayHome = PropsUtil.get("liferay.home.dir.name");

		var fileContent = FileUtil.read("${liferayHome}/tools/portal-tools-db-upgrade-client/logs/upgrade.log");

		if (!(contains(${fileContent}, ${logContent}))) {
			fail("${logContent} is not present in upgrade log.");
		}
	}

}