definition {

	@summary = "Default summary"
	macro addFeed(feedType = null, feedRowIndexNumber = null, feedURLLink = null, feedTitle = null, viewWarningMessage = null, buttonRowIndexNumber = null) {
		Portlet.gotoPortletOptions(
			portletName = "RSS Publisher",
			portletOption = "Configuration");

		var key_buttonRowIndexNumber = ${buttonRowIndexNumber};
		var key_feedRowIndexNumber = ${feedRowIndexNumber};
		var key_feedTitle = ${feedTitle};

		SelectFrame(locator1 = "IFrame#MODAL_BODY");

		if (isSet(buttonRowIndexNumber)) {
			Click(locator1 = "RSSFeed#FEEDS_ADD_ROW_BUTTON");
		}

		Type(
			locator1 = "RSSFeed#FEEDS_TITLE_NAME_FIELD",
			value1 = ${feedTitle});

		if (${feedType} == "file") {
			var projectDir = PropsUtil.get("project.dir");
			var dependencyFilePath = TestCase.getDependenciesDirPath(fileName = ${feedURLLink});

			if (contains(${dependencyFilePath}, "tests")) {
				Type(
					locator1 = "RSSFeed#FEEDS_URL_NAME_FIELD",
					value1 = "file:////${dependencyFilePath}");
			}
			else {
				Type(
					locator1 = "RSSFeed#FEEDS_URL_NAME_FIELD",
					value1 = "file:////${projectDir}/portal-web/${dependencyFilePath}");
			}
		}
		else {
			Type(
				locator1 = "RSSFeed#FEEDS_URL_NAME_FIELD",
				value1 = ${feedURLLink});
		}

		if (isSet(viewWarningMessage)) {
			Button.clickSave();

			Alert.viewRequestFailedToComplete();

			AssertTextEquals.assertPartialText(
				locator1 = "Message#ERROR_1",
				value1 = ${viewWarningMessage});
		}
		else {
			PortletEntry.save();
		}
	}

	@summary = "Default summary"
	macro updateFeedTime(feedTime = null) {
		Type(
			locator1 = "RSSFeed#FEED_TIME",
			value1 = ${feedTime});

		SystemSettings.saveConfiguration();
	}

	@summary = "Default summary"
	macro viewDisplayFeedTitle(feedTitle = null) {
		var key_feedTitle = ${feedTitle};

		AssertTextEquals.assertPartialText(
			locator1 = "RSSFeed#FEEDS_TITLE",
			value1 = ${feedTitle});
	}

	@summary = "Default summary"
	macro viewUpdateFeedTitle(feedHeading = null, pageName = null) {
		var key_feedHeading = ${feedHeading};

		if (isSet(updateFeed)) {

			// We need this pause to check issue due to the minimum feed time is 1 min

			Pause(value1 = 60000);

			Navigator._gotoPage(pageName = ${pageName});
		}

		AssertTextEquals(
			locator1 = "RSSFeed#FEED_PANEL_HEADING",
			value1 = ${feedHeading});
	}

}