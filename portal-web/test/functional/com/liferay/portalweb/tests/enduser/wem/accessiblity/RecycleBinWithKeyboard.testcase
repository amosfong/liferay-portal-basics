@component-name = "portal-content-management"
definition {

	property ci.retries.disabled = "true";
	property portal.accessibility = "true";
	property portal.release = "true";
	property portal.upstream = "true";
	property testray.component.names = "Content Management Accessibility";
	property testray.main.component.name = "Recycle Bin";

	setUp {
		task ("Set up virtual instance") {
			TestCase.setUpPortalInstance();
		}

		task ("Sign in") {
			User.firstLoginPG();
		}

		task ("Add a site") {
			HeadlessSite.addSite(siteName = "Test Site Name");
		}
	}

	@description = "This is a use case for LPS-177777. Using Keyboard navigation you can access the tooltip of the back button of an asset from the Recycle Bin and the tooltip is Go to Recycle Bin."
	@priority = 3
	test ViewBackButtonTooltipInViewContentViaKeyboard {
		task ("Given some types of assets in the Recycle Bin") {
			JSONWebcontent.addWebContent(
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title");

			HeadlessBlog.addBlogEntry(
				content = "Blogs Entry Content",
				groupName = "Test Site Name",
				title = "Blogs Entry Title");

			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document Title",
				groupName = "Test Site Name",
				mimeType = "image/png",
				sourceFileName = "Document_1.png");

			DMNavigator.openDocumentsAndMediaAdmin(siteURLKey = "test-site-name");

			DMDocument.moveToRecycleBinCP(dmDocumentTitle = "Document Title");

			BlogsNavigator.openBlogsAdmin(siteURLKey = "test-site-name");

			BlogsEntry.moveToRecycleBinCP(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title");

			WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

			WebContent.moveToRecycleBinCP(webContentTitle = "Web Content Title");
		}

		task ("When hover on the back button of the view content via keyboard") {
			RecycleBin.openRecycleBinAdmin(siteURLKey = "test-site-name");

			LexiconTable.clickTableEntryTitle(tableEntry = "Web Content Title");

			KeyPress(
				locator1 = "ProductMenu#TOGGLE",
				value1 = "\TAB");
		}

		task ("Then see the tooltip message") {
			AssertVisible(
				key_content = "Go to Recycle Bin",
				locator1 = "Tooltip#FLOATING_TOOLTIP_CONTENT");

			KeyPress(
				locator1 = "Icon#BACK",
				value1 = "\ENTER");

			LexiconTable.clickTableEntryTitle(tableEntry = "Blogs Entry Title");

			KeyPress(
				locator1 = "ProductMenu#TOGGLE",
				value1 = "\TAB");

			AssertVisible(
				key_content = "Go to Recycle Bin",
				locator1 = "Tooltip#FLOATING_TOOLTIP_CONTENT");

			KeyPress(
				locator1 = "Icon#BACK",
				value1 = "\ENTER");

			LexiconTable.clickTableEntryTitle(tableEntry = "Document Title");

			KeyPress(
				locator1 = "ProductMenu#TOGGLE",
				value1 = "\TAB");

			AssertVisible(
				key_content = "Go to Recycle Bin",
				locator1 = "Tooltip#FLOATING_TOOLTIP_CONTENT");
		}
	}

}