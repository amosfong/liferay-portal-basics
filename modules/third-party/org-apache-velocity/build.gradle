import com.liferay.gradle.plugins.patcher.PatchTask

apply plugin: "com.liferay.patcher"

task patch(type: PatchTask)

sourceCompatibility = "1.6"
targetCompatibility = "1.6"

dependencies {
	api group: "com.liferay", name: "org.apache.logging.log4j", version: "2.17.1.LIFERAY-PATCHED-1"
	api group: "com.liferay", name: "org.apache.logging.log4j.core", version: "2.17.1.LIFERAY-PATCHED-1"
	api group: "org.apache.velocity", name: "velocity", version: "1.6.4"
}

jarSources {
	mustRunAfter patch
}

patch {
	ext {
		autoClean = false
	}

	fileNames "org/apache/velocity/runtime/log/Log4JLogChute.java"
	fileNames "org/apache/velocity/runtime/log/SimpleLog4JLogSystem.java"
	fileNames "org/apache/velocity/runtime/parser/node/ASTText.java"
	fileNames "org/apache/velocity/util/introspection/SecureIntrospectorImpl.java"

	originalLibModuleName = "velocity"
}