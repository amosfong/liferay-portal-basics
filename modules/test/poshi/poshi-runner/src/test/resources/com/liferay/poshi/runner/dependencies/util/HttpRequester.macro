definition {

	@summary = "Default summary"
	macro assertResponseStatus(response = null,expectedStatus = null) {
		var actualStatus = HttpRequestUtil.getResponseStatusCode(${response});

		if (${expectedStatus} != ${actualStatus}) {
			var body = HttpRequestUtil.getResponseBody(${response});

			echo("Expected ${expectedStatus} but got ${actualStatus}");

			echo("Response: ${body}");
		}
	}

	@summary = "Default summary"
	macro getGoogleResponse() {
		var response = HttpRequestUtil.get("Poshi.NULL", "Poshi.NULL", "http://www.google.com");

		HttpRequester.getResponse(response = ${response});

		HttpRequestUtil.assertResponseStatusCode(${response}, 200);

		HttpRequestUtil.assertResponseDuration(${response}, 10000);
	}

	@summary = "Default summary"
	macro getResponse(response = null) {
		var status = HttpRequestUtil.getResponseStatusCode(${response});
		var body = HttpRequestUtil.getResponseBody(${response});
		var errorMessage = HttpRequestUtil.getResponseErrorMessage(${response});
		var responseDuration = HttpRequestUtil.getResponseDuration(${response});
		var responseHeaders = HttpRequestUtil.getResponseHeaderFields(${response});

		echo("Response Code: ${status}");

		echo("Response: ${body}");

		echo("Error: ${errorMessage}");

		echo("Response Duration: ${responseDuration}");

		echo("Headers: ${responseHeaders}");
	}

}